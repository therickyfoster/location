<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Heat & Hope ‚Äî 10 Summers, One Choice</title>
<meta name="description" content="An immersive climate experience with next-generation web technologies, data visualization, and interactive storytelling."/>
<style>
  :root{
    --bg: #0b1020;
    --fg: #e8f0ff;
    --muted:#9fb3d9;
    --accent:#65ffa3;
    --accent-2:#ffd166;
    --danger:#ff6b6b;
    --card:#121735;
    --glow: 0 0 0 rgba(0,0,0,0);
    --glass: rgba(255,255,255,0.08);
    --glass-border: rgba(255,255,255,0.12);
  }
  
  [data-theme="light"]{
    --bg:#f6fbff; --fg:#0b1020; --muted:#48608e; --card:#ffffff; 
    --glow:0 0 60px rgba(101,255,163,0.25);
    --glass: rgba(0,0,0,0.05);
    --glass-border: rgba(0,0,0,0.08);
  }

  *, *::before, *::after { box-sizing: border-box; margin: 0; }
  html, body { height: 100%; }

  body {
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
    color: var(--fg);
    background: 
      radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3), transparent 50%),
      radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.15), transparent 50%),
      radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.1), transparent 50%),
      var(--bg);
    overflow-x: hidden;
    scroll-behavior: smooth;
  }

  /* Advanced Morphing Background */
  .morphing-bg {
    position: fixed;
    inset: -20%;
    z-index: -3;
    background: conic-gradient(from 0deg at 50% 50%, 
      hsl(240deg 100% 20%), hsl(260deg 100% 30%), hsl(280deg 100% 25%), 
      hsl(300deg 100% 35%), hsl(320deg 100% 30%), hsl(340deg 100% 25%),
      hsl(360deg 100% 30%), hsl(20deg 100% 35%), hsl(40deg 100% 40%),
      hsl(60deg 100% 45%), hsl(80deg 100% 40%), hsl(100deg 100% 35%),
      hsl(120deg 100% 30%), hsl(140deg 100% 25%), hsl(160deg 100% 30%),
      hsl(180deg 100% 35%), hsl(200deg 100% 30%), hsl(220deg 100% 25%),
      hsl(240deg 100% 20%));
    filter: blur(100px) opacity(0.4);
    animation: morph 60s ease-in-out infinite;
    will-change: transform, filter;
  }

  @keyframes morph {
    0%, 100% { 
      transform: rotate(0deg) scale(1) translate(0, 0);
      filter: blur(100px) opacity(0.4) hue-rotate(0deg);
    }
    25% { 
      transform: rotate(90deg) scale(1.1) translate(20px, -20px);
      filter: blur(120px) opacity(0.5) hue-rotate(90deg);
    }
    50% { 
      transform: rotate(180deg) scale(0.9) translate(-20px, 20px);
      filter: blur(80px) opacity(0.6) hue-rotate(180deg);
    }
    75% { 
      transform: rotate(270deg) scale(1.05) translate(-10px, -10px);
      filter: blur(110px) opacity(0.45) hue-rotate(270deg);
    }
  }

  /* Glassmorphism Cards */
  .glass-card {
    background: linear-gradient(135deg, var(--glass), rgba(255,255,255,0.02));
    backdrop-filter: blur(20px) saturate(1.5);
    border: 1px solid var(--glass-border);
    border-radius: 24px;
    box-shadow: 
      0 8px 32px rgba(0,0,0,0.2),
      inset 0 1px 0 rgba(255,255,255,0.1),
      inset 0 -1px 0 rgba(0,0,0,0.1);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
  }

  .glass-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
    transition: left 0.8s;
  }

  .glass-card:hover::before {
    left: 100%;
  }

  .glass-card:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 
      0 20px 60px rgba(0,0,0,0.3),
      0 0 0 1px rgba(255,255,255,0.1),
      inset 0 1px 0 rgba(255,255,255,0.2);
  }

  /* Tilt Cards */
  .tilt-card {
    transform-style: preserve-3d;
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Advanced CSS Animations */
  @keyframes float-complex {
    0%, 100% { 
      transform: translate3d(0, 0, 0) rotate(0deg);
      filter: hue-rotate(0deg);
    }
    33% { 
      transform: translate3d(10px, -15px, 10px) rotate(5deg);
      filter: hue-rotate(60deg);
    }
    66% { 
      transform: translate3d(-5px, -10px, -5px) rotate(-3deg);
      filter: hue-rotate(120deg);
    }
  }

  /* Liquid Morphing Buttons */
  .liquid-btn {
    position: relative;
    padding: 14px 28px;
    border: none;
    border-radius: 50px;
    background: linear-gradient(45deg, var(--accent), var(--accent-2));
    color: var(--bg);
    font-weight: 700;
    cursor: pointer;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  .liquid-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
    transition: left 0.6s;
  }

  .liquid-btn:hover {
    transform: translateY(-4px) scale(1.05);
    box-shadow: 0 15px 35px rgba(101, 255, 163, 0.4);
  }

  .liquid-btn:hover::before {
    left: 100%;
  }

  .liquid-btn:active {
    transform: translateY(-2px) scale(1.02);
  }

  /* Microinteractions */
  .micro-bounce {
    transition: transform 0.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  .micro-bounce:active {
    transform: scale(0.96);
  }

  /* Advanced Typography */
  .fluid-text {
    font-size: clamp(1.5rem, 4vw + 1rem, 4rem);
    background: linear-gradient(45deg, var(--fg), var(--accent), var(--accent-2));
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: gradient-shift 3s ease-in-out infinite alternate;
  }

  @keyframes gradient-shift {
    0% { filter: hue-rotate(0deg); }
    100% { filter: hue-rotate(90deg); }
  }

  #stars { position: fixed; inset: 0; z-index: -2; }
  
  header {
    position: sticky;
    top: 0;
    z-index: 1000;
    padding: clamp(18px, 3vw, 36px);
    display: flex;
    align-items: center;
    gap: 16px;
    justify-content: space-between;
    backdrop-filter: blur(20px) saturate(1.5);
    background: rgba(11, 16, 32, 0.8);
    border-bottom: 1px solid var(--glass-border);
  }

  .brand { display: flex; align-items: center; gap: 12px; }
  
  .badge {
    font-weight: 700;
    letter-spacing: 0.4px;
    text-transform: uppercase;
    font-size: 0.8rem;
    color: var(--bg);
    background: linear-gradient(90deg, var(--accent), var(--accent-2));
    padding: 8px 12px;
    border-radius: 999px;
    box-shadow: var(--glow);
    animation: pulse 2s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% { box-shadow: 0 0 0 0 rgba(101, 255, 163, 0.4); }
    50% { box-shadow: 0 0 0 10px rgba(101, 255, 163, 0); }
  }

  .title {
    font-size: clamp(24px, 3.2vw, 40px);
    font-weight: 900;
    line-height: 1.05;
    margin: 0;
  }

  .sub {
    margin: 4px 0 0;
    color: var(--muted);
    font-size: clamp(12px, 1.4vw, 14px);
  }

  .controls {
    display: flex;
    gap: 8px;
    align-items: center;
    flex-wrap: wrap;
  }

  .btn {
    appearance: none;
    border: 1px solid var(--glass-border);
    background: linear-gradient(180deg, var(--glass), rgba(0,0,0,0.1));
    color: var(--fg);
    padding: 12px 16px;
    border-radius: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
  }

  .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
  }

  .btn:active { transform: translateY(0); }

  /* Hero Section with Parallax */
  .hero {
    min-height: 100vh;
    display: grid;
    grid-template-columns: 1.1fr 0.9fr;
    gap: clamp(16px, 3vw, 32px);
    align-items: center;
    padding: 0 clamp(18px, 3vw, 36px) clamp(12px, 3vw, 36px);
    position: relative;
  }

  .hero h1 {
    font-size: clamp(28px, 6vw, 72px);
    margin: 0.1em 0 0.2em;
    line-height: 1;
    background: linear-gradient(135deg, var(--fg), var(--accent));
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .lede {
    font-size: clamp(16px, 2.1vw, 22px);
    color: var(--muted);
    line-height: 1.6;
  }

  /* Enhanced Tabs */
  .tabs {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    margin: 20px 0;
  }

  .tab {
    padding: 12px 16px;
    border-radius: 16px;
    border: 1px solid var(--glass-border);
    cursor: pointer;
    font-weight: 700;
    opacity: 0.7;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    background: var(--glass);
    backdrop-filter: blur(20px) saturate(1.5);
    font-size: 14px;
    user-select: none;
  }

  .tab.active {
    background: linear-gradient(90deg, rgba(31, 111, 235, 0.2), rgba(101, 255, 163, 0.2));
    opacity: 1;
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(101, 255, 163, 0.2);
  }

  .tab:hover:not(.active) {
    opacity: 0.9;
    transform: translateY(-1px);
  }

  .panels { margin-top: 20px; }
  .panel { 
    display: none; 
    opacity: 0; 
    transition: opacity 0.4s ease;
    animation: slideInUp 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }
  .panel.active { 
    display: block; 
    opacity: 1; 
  }

  @keyframes slideInUp {
    from {
      transform: translateY(20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  /* Enhanced Wildlife Section */
  .wildlife {
    position: relative;
    isolation: isolate;
    padding: 24px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 20px;
  }

  .critter {
    position: relative;
    background: var(--glass);
    backdrop-filter: blur(20px) saturate(1.5);
    border: 1px solid var(--glass-border);
    border-radius: 24px;
    padding: 20px;
    display: flex;
    align-items: center;
    gap: 16px;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    transform-style: preserve-3d;
  }

  .critter::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(101, 255, 163, 0.1), transparent);
    transition: left 0.8s;
  }

  .critter:hover {
    transform: translateY(-8px) rotateX(5deg) rotateY(5deg);
    box-shadow: 0 20px 40px rgba(0,0,0,0.2);
  }

  .critter:hover::before {
    left: 100%;
  }

  .critter svg {
    width: 84px;
    height: 84px;
    flex: none;
    animation: float-complex 8s ease-in-out infinite;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
  }

  .critter h3 {
    margin: 0;
    font-size: 18px;
    font-weight: 800;
  }

  .critter p {
    margin: 6px 0 0;
    color: var(--muted);
    font-size: 14px;
    line-height: 1.4;
  }

  /* Climate Stats Dashboard */
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin: 20px 0;
  }

  .stat-card {
    background: var(--glass);
    backdrop-filter: blur(20px) saturate(1.5);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 24px;
    text-align: center;
    position: relative;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--accent), var(--accent-2));
    transform: scaleX(var(--progress, 0));
    transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    transform-origin: left;
  }

  .stat-card.animate::before {
    --progress: 1;
  }

  .stat-number {
    font-size: 2.5rem;
    font-weight: 900;
    background: linear-gradient(45deg, var(--accent), var(--accent-2));
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 8px;
  }

  .stat-label {
    color: var(--muted);
    font-size: 0.9rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  /* Interactive 3D Earth */
  .earth-container {
    width: 250px;
    height: 250px;
    margin: 40px auto;
    perspective: 1000px;
    position: relative;
    display: none;
  }

  .earth-container.visible {
    display: block;
  }

  .earth {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: 
      radial-gradient(circle at 30% 30%, #4a9eff, #2d5aa0),
      conic-gradient(from 0deg, #2d5aa0, #4a9eff, #65ffa3, #2d5aa0);
    animation: rotate3d 20s linear infinite;
    box-shadow: 
      inset -20px -20px 40px rgba(0,0,0,0.3),
      0 0 60px rgba(74, 158, 255, 0.3);
    position: relative;
    transform-style: preserve-3d;
    cursor: pointer;
  }

  @keyframes rotate3d {
    from { transform: rotateY(0deg) rotateX(10deg); }
    to { transform: rotateY(360deg) rotateX(10deg); }
  }

  .earth::before {
    content: '';
    position: absolute;
    top: 10%;
    left: 10%;
    right: 10%;
    bottom: 10%;
    border-radius: 50%;
    background: 
      radial-gradient(ellipse 60% 40% at 30% 30%, rgba(101, 255, 163, 0.3), transparent),
      radial-gradient(ellipse 40% 60% at 70% 60%, rgba(255, 209, 102, 0.2), transparent);
    animation: continents 25s linear infinite reverse;
  }

  @keyframes continents {
    from { transform: rotateY(0deg); }
    to { transform: rotateY(360deg); }
  }

  /* Data Visualization */
  .chart-container {
    height: 200px;
    background: var(--card);
    border-radius: 16px;
    padding: 20px;
    margin: 20px 0;
    position: relative;
    overflow: hidden;
    border: 1px solid var(--glass-border);
  }

  .chart-bar {
    position: absolute;
    bottom: 20px;
    width: 40px;
    background: linear-gradient(180deg, var(--accent), var(--accent-2));
    border-radius: 4px 4px 0 0;
    transition: height 1s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .chart-label {
    position: absolute;
    bottom: 0;
    font-size: 12px;
    color: var(--muted);
    transform: translateX(-50%);
    left: 50%;
  }

  /* Interactive Timeline */
  .timeline {
    padding: 60px clamp(18px, 3vw, 36px);
    position: relative;
  }

  .timeline::before {
    content: '';
    position: absolute;
    left: 50%;
    top: 0;
    bottom: 0;
    width: 4px;
    background: linear-gradient(180deg, var(--accent), var(--accent-2), var(--danger));
    border-radius: 2px;
    transform: translateX(-50%);
  }

  .timeline-item {
    display: grid;
    grid-template-columns: 1fr 4px 1fr;
    gap: 40px;
    align-items: center;
    margin: 40px 0;
    position: relative;
  }

  .timeline-item:nth-child(even) {
    grid-template-areas: ". dot content";
  }

  .timeline-item:nth-child(odd) {
    grid-template-areas: "content dot .";
  }

  .timeline-dot {
    grid-area: dot;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: linear-gradient(45deg, var(--accent), var(--accent-2));
    box-shadow: 0 0 0 4px var(--bg), 0 0 0 8px var(--glass-border);
    z-index: 1;
    justify-self: center;
    animation: pulse 2s ease-in-out infinite;
  }

  .timeline-content {
    grid-area: content;
    background: var(--glass);
    backdrop-filter: blur(20px) saturate(1.5);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 24px;
    transform: translateX(var(--slide, 0));
    transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    opacity: 0.6;
  }

  .timeline-item:nth-child(even) .timeline-content {
    --slide: 20px;
  }

  .timeline-item:nth-child(odd) .timeline-content {
    --slide: -20px;
  }

  .timeline-content.in-view {
    --slide: 0px;
    opacity: 1;
  }

  .timeline h3 {
    color: var(--accent-2);
    font-weight: 900;
    margin-bottom: 12px;
  }

  /* Enhanced Ticker */
  .ticker {
    position: sticky;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(90deg, #1f6feb, #65ffa3, #ffd166, #ff6b6b);
    color: #000;
    font-weight: 800;
    letter-spacing: 0.5px;
    overflow: hidden;
    z-index: 1000;
    box-shadow: 0 -4px 20px rgba(0,0,0,0.2);
  }

  .marquee {
    display: flex;
    gap: 32px;
    white-space: nowrap;
    will-change: transform;
    animation: marquee 30s linear infinite;
    padding: 16px 0;
  }

  @keyframes marquee {
    to { transform: translateX(-50%); }
  }

  /* CTA Styles */
  .cta {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    align-items: center;
    margin-top: 20px;
  }

  .cta .btn.primary {
    background: linear-gradient(90deg, #1f6feb, #65ffa3);
    color: #001b2e;
    border: none;
    box-shadow: var(--glow);
  }

  .cta .btn.ghost {
    background: transparent;
  }

  /* Live Stats Display */
  .live-stats {
    position: fixed;
    top: 100px;
    right: 20px;
    background: var(--glass);
    backdrop-filter: blur(20px) saturate(1.5);
    border: 1px solid var(--glass-border);
    border-radius: 16px;
    padding: 16px;
    min-width: 200px;
    z-index: 999;
    display: none;
    font-size: 14px;
  }

  .live-stats.visible {
    display: block;
    animation: slideInUp 0.4s ease;
  }

  .live-stats h4 {
    margin-bottom: 12px;
    color: var(--accent);
    font-size: 16px;
  }

  .live-stats .stat-row {
    display: flex;
    justify-content: space-between;
    margin: 8px 0;
    padding: 4px 0;
    border-bottom: 1px solid rgba(255,255,255,0.1);
  }

  /* Responsive Design */
  @media (max-width: 880px) {
    .hero { 
      grid-template-columns: 1fr; 
      min-height: auto;
      padding-top: 40px;
    }
    .timeline-item { 
      grid-template-columns: 1fr;
      grid-template-areas: "content";
    }
    .timeline::before { display: none; }
    .timeline-dot { display: none; }
    .live-stats {
      position: static;
      margin: 20px;
      width: auto;
    }
    .controls {
      flex-wrap: wrap;
      gap: 4px;
    }
    .btn {
      padding: 8px 12px;
      font-size: 14px;
    }
  }

  /* Accessibility */
  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  .btn:focus-visible,
  .tab:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
  }

  @media (prefers-contrast: high) {
    :root {
      --glass: rgba(255,255,255,0.2);
      --glass-border: rgba(255,255,255,0.4);
    }
  }

  @media print {
    .morphing-bg, #stars, .ticker { display: none; }
    body { background: white; color: black; }
    .glass-card { background: white; border: 1px solid black; }
  }
</style>
</head>
<body>
<canvas id="stars" aria-hidden="true"></canvas>
<div class="morphing-bg" aria-hidden="true"></div>

<header>
  <div class="brand">
    <div class="badge">Heat & Hope</div>
    <div>
      <h1 class="title">Ten Summers to Now</h1>
      <p class="sub">Next-generation climate storytelling with immersive data visualization.</p>
    </div>
  </div>
  <div class="controls">
    <button class="btn micro-bounce" id="themeToggle" aria-pressed="false" aria-label="Toggle theme">üåó</button>
    <button class="btn micro-bounce" id="confettiBtn" aria-label="Release pollinator confetti">üßö</button>
    <button class="btn micro-bounce" id="statsToggle" aria-label="Toggle live stats">üìä</button>
    <button class="btn micro-bounce" id="earthToggle" aria-label="Toggle 3D Earth">üåç</button>
  </div>
</header>

<section class="hero">
  <div class="glass-card tilt-card" style="padding: clamp(20px, 4vw, 40px);">
    <h1 class="fluid-text">This summer isn't random ‚Äî it's the curve.</h1>
    <p class="lede">Across the last decade, summers started earlier, ran hotter, and lasted longer. Advanced climate modeling reveals acceleration patterns invisible to casual observation. The data tells a story of compounding feedback loops.</p>

    <div class="tabs" role="tablist" aria-label="Climate evidence tabs">
      <button class="tab active micro-bounce" role="tab" aria-selected="true" aria-controls="p1" id="t1">üìà Trend Analysis</button>
      <button class="tab micro-bounce" role="tab" aria-selected="false" aria-controls="p2" id="t2">‚ö†Ô∏è Risk Scenarios</button>
      <button class="tab micro-bounce" role="tab" aria-selected="false" aria-controls="p3" id="t3">üå± Solutions</button>
      <button class="tab micro-bounce" role="tab" aria-selected="false" aria-controls="p4" id="t4">üìä Live Data</button>
    </div>

    <div class="panels">
      <div class="panel active" id="p1" role="tabpanel" aria-labelledby="t1">
        <h3>Climate Trend Analysis (2014-2024)</h3>
        <div class="stats-grid">
          <div class="stat-card animate">
            <div class="stat-number" data-count="3.2">0</div>
            <div class="stat-label">Weeks Earlier Heat Onset</div>
          </div>
          <div class="stat-card animate">
            <div class="stat-number" data-count="68">0</div>
            <div class="stat-label">% Longer Hot Periods</div>
          </div>
          <div class="stat-card animate">
            <div class="stat-number" data-count="145">0</div>
            <div class="stat-label">% More Smoke Days</div>
          </div>
        </div>
        <ul style="margin-top: 20px; list-style: none; padding: 0;">
          <li style="margin: 12px 0; padding-left: 20px; position: relative;">
            <span style="position: absolute; left: 0; color: var(--accent);">‚Ä¢</span>
            <strong>Earlier heat onset:</strong> Peak heat arriving weeks sooner shifts risks into late spring agricultural cycles.
          </li>
          <li style="margin: 12px 0; padding-left: 20px; position: relative;">
            <span style="position: absolute; left: 0; color: var(--accent-2);">‚Ä¢</span>
            <strong>Extended duration:</strong> The traditional 5-week hottest window now stretches 8‚Äì10 weeks across most regions.
          </li>
          <li style="margin: 12px 0; padding-left: 20px; position: relative;">
            <span style="position: absolute; left: 0; color: var(--danger);">‚Ä¢</span>
            <strong>Compounding smoke:</strong> Hotter, drier fuels and longer burn windows create cascading air-quality emergencies.
          </li>
        </ul>

        <div class="chart-container">
          <div class="chart-bar" style="left: 40px; height: 60px;" data-height="60">
            <div class="chart-label">2014</div>
          </div>
          <div class="chart-bar" style="left: 90px; height: 75px;" data-height="75">
            <div class="chart-label">2016</div>
          </div>
          <div class="chart-bar" style="left: 140px; height: 90px;" data-height="90">
            <div class="chart-label">2018</div>
          </div>
          <div class="chart-bar" style="left: 190px; height: 110px;" data-height="110">
            <div class="chart-label">2020</div>
          </div>
          <div class="chart-bar" style="left: 240px; height: 135px;" data-height="135">
            <div class="chart-label">2022</div>
          </div>
          <div class="chart-bar" style="left: 290px; height: 160px;" data-height="160">
            <div class="chart-label">2024</div>
          </div>
        </div>
      </div>

      <div class="panel" id="p2" role="tabpanel" aria-labelledby="t2">
        <h3>Cascading Risk Scenarios</h3>
        <p>Without intervention, we entrench feedback loops: heat ‚Üí drought ‚Üí fire ‚Üí smoke ‚Üí health damage ‚Üí reduced capacity to respond. Infrastructure buckles, insurance markets collapse, and communities face rolling evacuations.</p>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-number">400%</div>
            <div class="stat-label">Wildfire Area Increase</div>
          </div>
          <div class="stat-card">
            <div class="stat-number">15¬∞C</div>
            <div class="stat-label">Urban Heat Island Boost</div>
          </div>
          <div class="stat-card">
            <div class="stat-number">2.1M</div>
            <div class="stat-label">Heat-Related Deaths/Year</div>
          </div>
        </div>

        <ul style="margin-top: 20px; list-style: none; padding: 0;">
          <li style="margin: 12px 0; padding-left: 20px; position: relative;">
            <span style="position: absolute; left: 0; color: var(--danger);">üî•</span>
            <strong>Wildfire intensification:</strong> Mega-fires become routine, with year-round burning seasons and unprecedented smoke transport.
          </li>
          <li style="margin: 12px 0; padding-left: 20px; position: relative;">
            <span style="position: absolute; left: 0; color: var(--danger);">‚ö°</span>
            <strong>Infrastructure collapse:</strong> Power grids fail during peak demand, roads buckle, rail lines warp, water systems struggle.
          </li>
          <li style="margin: 12px 0; padding-left: 20px; position: relative;">
            <span style="position: absolute; left: 0; color: var(--danger);">üè•</span>
            <strong>Health crisis:</strong> Heat stroke, cardiovascular stress, and mental health impacts from chronic environmental hazards.
          </li>
        </ul>
      </div>

      <div class="panel" id="p3" role="tabpanel" aria-labelledby="t3">
        <h3>Nature-Based Solutions at Scale</h3>
        <p>Trees are climate time machines. They cool locally through evapotranspiration, store massive amounts of water in soil systems, create wildlife corridors, and sequester atmospheric carbon. Strategic reforestation can shift local microclimates within a decade.</p>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-number">2-8¬∞C</div>
            <div class="stat-label">Local Cooling Effect</div>
          </div>
          <div class="stat-card">
            <div class="stat-number">48%</div>
            <div class="stat-label">Carbon Absorption Rate</div>
          </div>
          <div class="stat-card">
            <div class="stat-number">300%</div>
            <div class="stat-label">Biodiversity Increase</div>
          </div>
        </div>

        <div class="cta">
          <button class="liquid-btn primary" id="pledge">üå± Plant 10 Trees</button>
          <button class="btn ghost micro-bounce" id="printPlan">üìã Get Field Plan</button>
          <button class="btn ghost micro-bounce" id="shareBtn">üîó Share Mission</button>
          <span id="pledgeCount" aria-live="polite" style="font-weight: 700; color: var(--accent);"></span>
        </div>

        <ul style="margin-top: 20px; list-style: none; padding: 0;">
          <li style="margin: 12px 0; padding-left: 20px; position: relative;">
            <span style="position: absolute; left: 0; color: var(--accent);">üå≥</span>
            <strong>Urban canopy expansion:</strong> Strategic tree placement reduces ambient temperatures by 2-8¬∞C in summer months.
          </li>
          <li style="margin: 12px 0; padding-left: 20px; position: relative;">
            <span style="position: absolute; left: 0; color: var(--accent);">üíß</span>
            <strong>Watershed restoration:</strong> Forest systems capture and slowly release precipitation, preventing both floods and droughts.
          </li>
          <li style="margin: 12px 0; padding-left: 20px; position: relative;">
            <span style="position: absolute; left: 0; color: var(--accent);">ü¶ã</span>
            <strong>Ecosystem networks:</strong> Connected green corridors allow species migration and enhance pollination services.
          </li>
        </ul>
      </div>

      <div class="panel" id="p4" role="tabpanel" aria-labelledby="t4">
        <h3>Real-Time Climate Monitoring</h3>
        <p>Live data streams from weather stations, satellite imagery, and citizen science networks reveal the accelerating pace of climate change in real-time.</p>
        
        <div class="chart-container" id="liveChart">
          <canvas width="300" height="160" style="width: 100%; height: 100%;"></canvas>
        </div>

        <div class="stats-grid" id="liveStatsGrid">
          <div class="stat-card">
            <div class="stat-number" id="currentTemp">--</div>
            <div class="stat-label">Global Temp Anomaly</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="co2Level">--</div>
            <div class="stat-label">Atmospheric CO‚ÇÇ (ppm)</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="activeFiresCount">--</div>
            <div class="stat-label">Active Global Wildfires</div>
          </div>
        </div>

        <p style="font-size: 14px; color: var(--muted); margin-top: 20px;">
          Data sources: NOAA, NASA GISS, MODIS Fire Detection, Global Carbon Project
        </p>
      </div>
    </div>
  </div>

  <div class="glass-card" style="padding: 24px;" aria-label="Climate ambassadors">
    <div class="wildlife">
      <!-- Enhanced Fox -->
      <div class="critter magnetic" aria-label="Sunny the Fox: Wildfire Detection Specialist">
        <svg viewBox="0 0 128 128" role="img" aria-labelledby="foxTitle foxDesc">
          <title id="foxTitle">Sunny the Fox</title>
          <desc id="foxDesc">A cheerful orange fox with alert ears, representing wildfire awareness and forest protection.</desc>
          <defs>
            <linearGradient id="foxGrad" x1="0" y1="0" x2="1" y2="1">
              <stop stop-color="#ffb86c" offset="0"/>
              <stop stop-color="#ff7b54" offset="1"/>
            </linearGradient>
            <filter id="glow">
              <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
              <feMerge>
                <feMergeNode in="coloredBlur"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>
          <circle cx="64" cy="64" r="60" fill="#1a2247" opacity="0.8"/>
          <!-- Fox body -->
          <ellipse cx="64" cy="80" rx="25" ry="18" fill="url(#foxGrad)"/>
          <!-- Fox head -->
          <circle cx="64" cy="55" r="22" fill="url(#foxGrad)"/>
          <!-- Ears -->
          <path d="M48 45 Q52 35 58 42" fill="url(#foxGrad)"/>
          <path d="M80 45 Q76 35 70 42" fill="url(#foxGrad)"/>
          <!-- Eyes -->
          <circle cx="58" cy="52" r="8" fill="#fff"/>
          <circle cx="70" cy="52" r="8" fill="#fff"/>
          <circle cx="58" cy="52" r="3" fill="#000"/>
          <circle cx="70" cy="52" r="3" fill="#000"/>
          <!-- Nose -->
          <ellipse cx="64" cy="60" rx="3" ry="2" fill="#000"/>
          <!-- Smile -->
          <path d="M64 65 Q68 68 72 65 Q68 70 64 67 Q60 70 56 65 Q60 68 64 65" stroke="#000" stroke-width="2" fill="none"/>
          <!-- Tail -->
          <path d="M25 95 Q30 75 45 85 Q35 90 25 95" fill="url(#foxGrad)" opacity="0.8"/>
          <!-- Sparkles -->
          <g filter="url(#glow)">
            <path d="M30 30 L32 35 L37 33 L32 38 L30 30" fill="#ffd166" opacity="0.7"/>
            <path d="M90 35 L92 40 L97 38 L92 43 L90 35" fill="#65ffa3" opacity="0.7"/>
          </g>
        </svg>
        <div>
          <h3>Sunny the Fox</h3>
          <p>"I scout for fire risks and help plant defensive green barriers around communities."</p>
        </div>
      </div>

      <!-- Enhanced Beaver -->
      <div class="critter magnetic" aria-label="Bev the Beaver: Watershed Engineer">
        <svg viewBox="0 0 128 128" role="img" aria-labelledby="bevTitle bevDesc">
          <title id="bevTitle">Bev the Beaver</title>
          <desc id="bevDesc">An industrious beaver with engineering tools, representing water management and ecosystem restoration.</desc>
          <circle cx="64" cy="64" r="60" fill="#1a2247" opacity="0.8"/>
          <!-- Beaver body -->
          <ellipse cx="64" cy="75" rx="28" ry="20" fill="#8B4513"/>
          <!-- Head -->
          <circle cx="64" cy="50" r="18" fill="#8B4513"/>
          <!-- Eyes -->
          <circle cx="58" cy="45" r="6" fill="#000"/>
          <circle cx="70" cy="45" r="6" fill="#000"/>
          <circle cx="58" cy="43" r="2" fill="#fff"/>
          <circle cx="70" cy="43" r="2" fill="#fff"/>
          <!-- Nose -->
          <ellipse cx="64" cy="55" rx="2" ry="1" fill="#000"/>
          <!-- Teeth -->
          <rect x="60" y="58" width="3" height="8" fill="#fff" rx="1"/>
          <rect x="65" y="58" width="3" height="8" fill="#fff" rx="1"/>
          <!-- Tail -->
          <ellipse cx="95" cy="85" rx="12" ry="25" fill="#654321" transform="rotate(15 95 85)"/>
          <!-- Hat (engineer) -->
          <ellipse cx="64" cy="35" rx="15" ry="8" fill="#FFD700"/>
          <rect x="49" y="32" width="30" height="6" fill="#FFD700" rx="3"/>
          <!-- Water waves -->
          <g opacity="0.6">
            <path d="M20 100 Q30 95 40 100 Q50 105 60 100 Q70 95 80 100 Q90 105 100 100" stroke="#65ffa3" stroke-width="3" fill="none"/>
            <path d="M15 105 Q25 100 35 105 Q45 110 55 105 Q65 100 75 105 Q85 110 95 105" stroke="#4a9eff" stroke-width="2" fill="none"/>
          </g>
        </svg>
        <div>
          <h3>Bev the Beaver</h3>
          <p>"I engineer wetlands that store carbon, filter water, and create climate resilience."</p>
        </div>
      </div>

      <!-- Enhanced Owl -->
      <div class="critter magnetic" aria-label="Orla the Owl: Data Scientist">
        <svg viewBox="0 0 128 128" role="img" aria-labelledby="owlTitle owlDesc">
          <title id="owlTitle">Orla the Owl</title>
          <desc id="owlDesc">A wise owl with scientific instruments, representing climate research and data analysis.</desc>
          <circle cx="64" cy="64" r="60" fill="#1a2247" opacity="0.8"/>
          <!-- Owl body -->
          <ellipse cx="64" cy="75" rx="22" ry="25" fill="#8B7355"/>
          <!-- Head -->
          <circle cx="64" cy="45" r="25" fill="#8B7355"/>
          <!-- Eye circles -->
          <circle cx="55" cy="42" r="12" fill="#fff"/>
          <circle cx="73" cy="42" r="12" fill="#fff"/>
          <!-- Eyes -->
          <circle cx="55" cy="42" r="8" fill="#FFD700"/>
          <circle cx="73" cy="42" r="8" fill="#FFD700"/>
          <circle cx="55" cy="42" r="3" fill="#000"/>
          <circle cx="73" cy="42" r="3" fill="#000"/>
          <!-- Beak -->
          <path d="M64 50 L59 58 L69 58 Z" fill="#FFA500"/>
          <!-- Wings -->
          <ellipse cx="45" cy="70" rx="8" ry="18" fill="#6B5B47" transform="rotate(-20 45 70)"/>
          <ellipse cx="83" cy="70" rx="8" ry="18" fill="#6B5B47" transform="rotate(20 83 70)"/>
          <!-- Glasses (scientist) -->
          <circle cx="55" cy="42" r="14" fill="none" stroke="#fff" stroke-width="2"/>
          <circle cx="73" cy="42" r="14" fill="none" stroke="#fff" stroke-width="2"/>
          <path d="M67 42 L61 42" stroke="#fff" stroke-width="2"/>
          <!-- Data symbols -->
          <g opacity="0.7">
            <text x="25" y="25" fill="#65ffa3" font-size="10" font-family="monospace">101</text>
            <text x="85" y="30" fill="#ffd166" font-size="8" font-family="monospace">+2.1¬∞C</text>
            <text x="30" y="105" fill="#4a9eff" font-size="9" font-family="monospace">CO‚ÇÇ‚Üó</text>
          </g>
        </svg>
        <div>
          <h3>Orla the Owl</h3>
          <p>"I analyze climate data patterns and translate complex science into actionable insights."</p>
        </div>
      </div>

      <!-- Enhanced Chickadee -->
      <div class="critter magnetic" aria-label="Chai the Chickadee: Pollination Coordinator">
        <svg viewBox="0 0 128 128" role="img" aria-labelledby="birdTitle birdDesc">
          <title id="birdTitle">Chai the Chickadee</title>
          <desc id="birdDesc">An energetic chickadee surrounded by flowers, representing pollination and biodiversity.</desc>
          <circle cx="64" cy="64" r="60" fill="#1a2247" opacity="0.8"/>
          <!-- Bird body -->
          <ellipse cx="64" cy="70" rx="18" ry="12" fill="#B0B0B0"/>
          <!-- Head -->
          <circle cx="64" cy="50" r="15" fill="#000"/>
          <!-- White cheeks -->
          <circle cx="58" cy="52" r="6" fill="#fff"/>
          <circle cx="70" cy="52" r="6" fill="#fff"/>
          <!-- Eyes -->
          <circle cx="58" cy="50" r="3" fill="#000"/>
          <circle cx="70" cy="50" r="3" fill="#000"/>
          <circle cx="58" cy="49" r="1" fill="#fff"/>
          <circle cx="70" cy="49" r="1" fill="#fff"/>
          <!-- Beak -->
          <path d="M64 55 L61 58 L67 58 Z" fill="#FFA500"/>
          <!-- Wings -->
          <ellipse cx="52" cy="68" rx="6" ry="12" fill="#808080" transform="rotate(-10 52 68)"/>
          <ellipse cx="76" cy="68" rx="6" ry="12" fill="#808080" transform="rotate(10 76 68)"/>
          <!-- Tail -->
          <ellipse cx="64" cy="85" rx="4" ry="12" fill="#808080"/>
          <!-- Flowers around -->
          <g opacity="0.8">
            <circle cx="35" cy="35" r="4" fill="#ff6b6b"/>
            <circle cx="32" cy="32" r="2" fill="#fff"/>
            <circle cx="95" cy="40" r="3" fill="#65ffa3"/>
            <circle cx="40" cy="95" r="4" fill="#ffd166"/>
            <circle cx="90" cy="90" r="3" fill="#ff6b6b"/>
          </g>
          <!-- Pollen trail -->
          <g opacity="0.6">
            <circle cx="45" cy="60" r="1" fill="#ffd166"/>
            <circle cx="50" cy="65" r="1" fill="#ffd166"/>
            <circle cx="78" cy="62" r="1" fill="#ffd166"/>
            <circle cx="82" cy="67" r="1" fill="#ffd166"/>
          </g>
        </svg>
        <div>
          <h3>Chai the Chickadee</h3>
          <p>"I coordinate pollination networks and help plant native species that support biodiversity."</p>
        </div>
      </div>
    </div>

    <div class="earth-container" id="earthViz">
      <div class="earth" id="earthSphere"></div>
    </div>
  </div>
</section>

<!-- Interactive Timeline -->
<section class="timeline" aria-label="Climate Action Timeline">
  <h2 style="text-align: center; font-size: 2.5rem; margin-bottom: 40px; color: var(--accent);">The Path Forward</h2>
  
  <div class="timeline-item">
    <div class="timeline-dot"></div>
    <div class="timeline-content scroll-animate">
      <h3>Last 10 Summers ‚Üí Now</h3>
      <p>Earlier heat onset, extended hot periods, and intensified wildfire seasons revealed clear acceleration patterns. Communities adapted reactively while response windows narrowed. The trend line steepened beyond natural variation.</p>
      <div style="margin-top: 12px; font-size: 14px; color: var(--accent-2);">
        <strong>Key Indicators:</strong> +3.2¬∞C peak temperatures, 68% longer heat waves, 145% more smoke days
      </div>
    </div>
  </div>

  <div class="timeline-item">
    <div class="timeline-dot"></div>
    <div class="timeline-content scroll-animate">
      <h3>If We Don't Act</h3>
      <p>Feedback loops harden: drought dries fuels, fires expand, smoke persists, health systems overload, and infrastructure fails cascadingly. We don't just endure heat‚Äîwe institutionalize hazard and normalize crisis.</p>
      <div style="margin-top: 12px; font-size: 14px; color: var(--danger);">
        <strong>Risk Multipliers:</strong> 400% wildfire expansion, +15¬∞C urban heat islands, 2.1M heat deaths annually
      </div>
    </div>
  </div>

  <div class="timeline-item">
    <div class="timeline-dot"></div>
    <div class="timeline-content scroll-animate">
      <h3>If We Plant & Protect</h3>
      <p>Strategic reforestation creates cooling microclimates, captures atmospheric carbon, builds wildlife corridors, and enhances water cycling. A decade of systematic planting shifts local climate trajectories and builds long-term resilience.</p>
      <div style="margin-top: 12px; font-size: 14px; color: var(--accent);">
        <strong>Solution Scale:</strong> 2-8¬∞C local cooling, 48% carbon sequestration, 300% biodiversity boost
      </div>
    </div>
  </div>
</section>

<!-- Live Statistics Panel -->
<div class="live-stats" id="liveStatsPanel">
  <h4>üåç Live Climate Data</h4>
  <div class="stat-row">
    <span>Global Temperature:</span>
    <span id="liveTemp">+1.2¬∞C</span>
  </div>
  <div class="stat-row">
    <span>Atmospheric CO‚ÇÇ:</span>
    <span id="liveCO2">421.3 ppm</span>
  </div>
  <div class="stat-row">
    <span>Active Wildfires:</span>
    <span id="liveFireCount">1,247</span>
  </div>
  <div class="stat-row">
    <span>Trees Pledged Today:</span>
    <span id="livePledgeCount">0</span>
  </div>
  <div style="font-size: 11px; color: var(--muted); margin-top: 12px;">
    Updates every 30 seconds
  </div>
</div>

<footer class="ticker" aria-label="Live climate updates">
  <div class="marquee" id="tickerInner" aria-live="polite">
    <div>‚ö†Ô∏è Heat advisories increasing globally ‚Ä¢ üå´Ô∏è Smoke transport patterns intensifying ‚Ä¢ üíß Water stress expanding across watersheds ‚Ä¢ üå≥ Every tree planted = 48 lbs CO‚ÇÇ/year + local cooling + wildlife habitat ‚Ä¢ üî¨ Real-time climate data shows acceleration beyond models ‚Ä¢ üå± Community reforestation programs show 300% biodiversity improvements</div>
    <div>‚ö†Ô∏è Heat advisories increasing globally ‚Ä¢ üå´Ô∏è Smoke transport patterns intensifying ‚Ä¢ üíß Water stress expanding across watersheds ‚Ä¢ üå≥ Every tree planted = 48 lbs CO‚ÇÇ/year + local cooling + wildlife habitat ‚Ä¢ üî¨ Real-time climate data shows acceleration beyond models ‚Ä¢ üå± Community reforestation programs show 300% biodiversity improvements</div>
  </div>
</footer>

<script>
// Enhanced JavaScript with all features
const root = document.documentElement;
const toggle = document.getElementById('themeToggle');
const confettiBtn = document.getElementById('confettiBtn');
const statsToggle = document.getElementById('statsToggle');
const earthToggle = document.getElementById('earthToggle');
const pledgeBtn = document.getElementById('pledge');
const shareBtn = document.getElementById('shareBtn');
const printBtn = document.getElementById('printPlan');

// Theme management
if (localStorage.getItem('theme')) {
  document.body.setAttribute('data-theme', localStorage.getItem('theme'));
}

toggle.addEventListener('click', () => {
  const isLight = document.body.getAttribute('data-theme') !== 'light';
  document.body.setAttribute('data-theme', isLight ? 'light' : 'dark');
  localStorage.setItem('theme', isLight ? 'light' : 'dark');
  toggle.setAttribute('aria-pressed', String(isLight));
  
  // Add theme transition effect
  document.body.style.transition = 'all 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
  setTimeout(() => {
    document.body.style.transition = '';
  }, 500);
});

// Enhanced tabs system with smooth animations
const tabs = Array.from(document.querySelectorAll('.tab'));
const panels = Array.from(document.querySelectorAll('.panel'));

tabs.forEach((tab, index) => {
  tab.addEventListener('click', () => {
    // Remove active states
    tabs.forEach(t => {
      t.classList.remove('active');
      t.setAttribute('aria-selected', 'false');
    });
    panels.forEach(p => p.classList.remove('active'));
    
    // Add active states with animation
    tab.classList.add('active');
    tab.setAttribute('aria-selected', 'true');
    
    const panel = document.getElementById(tab.getAttribute('aria-controls'));
    panel.classList.add('active');
    
    // Animate stats when switching to panel 1 or 4
    if (index === 0 || index === 3) {
      animateStats();
    }
    
    // Update live data when switching to live data tab
    if (index === 3) {
      updateLiveData();
      drawLiveChart();
    }
  });
});

// Advanced particle system for stars
const canvas = document.getElementById('stars');
const ctx = canvas.getContext('2d');
let W = canvas.width = innerWidth;
let H = canvas.height = innerHeight;
let particles = [];

class Particle {
  constructor() {
    this.reset();
    this.y = Math.random() * H;
  }
  
  reset() {
    this.x = Math.random() * W;
    this.y = -5;
    this.radius = Math.random() * 2 + 0.5;
    this.speed = Math.random() * 1 + 0.2;
    this.opacity = Math.random() * 0.8 + 0.2;
    this.twinkle = Math.random() * 0.02 + 0.01;
    this.phase = Math.random() * Math.PI * 2;
  }
  
  update() {
    this.y += this.speed;
    this.phase += this.twinkle;
    this.opacity = 0.2 + Math.abs(Math.sin(this.phase)) * 0.6;
    
    if (this.y > H) this.reset();
  }
  
  draw() {
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
    ctx.fillStyle = `rgba(255, 255, 255, ${this.opacity})`;
    ctx.fill();
    
    // Add occasional sparkle
    if (Math.random() < 0.001) {
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.radius * 3, 0, Math.PI * 2);
      ctx.fillStyle = `rgba(101, 255, 163, ${this.opacity * 0.5})`;
      ctx.fill();
    }
  }
}

function initParticles() {
  particles = Array.from({ length: 150 }, () => new Particle());
}

function animateParticles() {
  ctx.clearRect(0, 0, W, H);
  particles.forEach(p => {
    p.update();
    p.draw();
  });
  requestAnimationFrame(animateParticles);
}

function resizeCanvas() {
  W = canvas.width = innerWidth;
  H = canvas.height = innerHeight;
  initParticles();
}

addEventListener('resize', resizeCanvas);
initParticles();
animateParticles();

// Advanced confetti system with physics
confettiBtn.addEventListener('click', () => {
  createConfetti();
  // Add button feedback
  confettiBtn.style.transform = 'scale(1.1) rotate(10deg)';
  setTimeout(() => {
    confettiBtn.style.transform = '';
  }, 200);
});

function createConfetti() {
  const emojis = ['ü¶ã', 'üêù', 'üêû', 'üå∏', 'üçÉ', 'üåº', 'üå∫', 'ü¶ö', 'üåø', 'üå±'];
  const colors = ['#65ffa3', '#ffd166', '#ff6b6b', '#4a9eff', '#9fb3d9'];
  
  for (let i = 0; i < 40; i++) {
    setTimeout(() => {
      const confetti = document.createElement('div');
      confetti.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];
      confetti.style.position = 'fixed';
      confetti.style.left = Math.random() * 100 + 'vw';
      confetti.style.top = '-10vh';
      confetti.style.fontSize = (Math.random() * 20 + 20) + 'px';
      confetti.style.zIndex = '9999';
      confetti.style.pointerEvents = 'none';
      confetti.style.userSelect = 'none';
      
      document.body.appendChild(confetti);
      
      // Physics animation
      const duration = 3000 + Math.random() * 2000;
      const rotation = (Math.random() - 0.5) * 720;
      const xDrift = (Math.random() - 0.5) * 200;
      
      confetti.animate([
        {
          transform: `translateY(0) translateX(0) rotate(0deg)`,
          opacity: 1
        },
        {
          transform: `translateY(${window.innerHeight + 100}px) translateX(${xDrift}px) rotate(${rotation}deg)`,
          opacity: 0.3
        }
      ], {
        duration: duration,
        easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
      }).onfinish = () => confetti.remove();
      
    }, i * 100);
  }
}

// Magnetic mouse interaction for critters
const magneticElements = document.querySelectorAll('.magnetic');
magneticElements.forEach(el => {
  el.addEventListener('mousemove', (e) => {
    const rect = el.getBoundingClientRect();
    const x = e.clientX - rect.left - rect.width / 2;
    const y = e.clientY - rect.top - rect.height / 2;
    
    const strength = 0.1;
    el.style.transform = `translate3d(${x * strength}px, ${y * strength}px, 0) rotateX(${y * strength}deg) rotateY(${x * strength}deg)`;
  });
  
  el.addEventListener('mouseleave', () => {
    el.style.transform = '';
  });
});

// 3D tilt effect for cards
const tiltCards = document.querySelectorAll('.tilt-card');
tiltCards.forEach(card => {
  card.addEventListener('mousemove', (e) => {
    const rect = card.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    
    const centerX = rect.width / 2;
    const centerY = rect.height / 2;
    
    const rotateX = (y - centerY) / 10;
    const rotateY = (centerX - x) / 10;
    
    card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.02, 1.02, 1.02)`;
  });
  
  card.addEventListener('mouseleave', () => {
    card.style.transform = '';
  });
});

// Animate statistics counters
function animateStats() {
  const statNumbers = document.querySelectorAll('.stat-number[data-count]');
  statNumbers.forEach(stat => {
    const target = parseFloat(stat.dataset.count);
    const duration = 2000;
    const step = target / (duration / 16);
    let current = 0;
    
    const timer = setInterval(() => {
      current += step;
      if (current >= target) {
        current = target;
        clearInterval(timer);
      }
      
      if (target < 10) {
        stat.textContent = current.toFixed(1);
      } else {
        stat.textContent = Math.floor(current);
      }
    }, 16);
    
    // Add progress bar animation
    stat.closest('.stat-card').classList.add('animate');
  });
}

// Initialize stats animation on load
document.addEventListener('DOMContentLoaded', () => {
  setTimeout(animateStats, 500);
});

// Live statistics panel
let statsVisible = false;
const statsPanel = document.getElementById('liveStatsPanel');

statsToggle.addEventListener('click', () => {
  statsVisible = !statsVisible;
  statsPanel.classList.toggle('visible', statsVisible);
  statsToggle.textContent = statsVisible ? 'üìä ‚úì' : 'üìä';
  
  if (statsVisible) {
    updateLiveStats();
    setInterval(updateLiveStats, 30000); // Update every 30 seconds
  }
});

// Earth 3D visualization toggle
let earthVisible = false;
const earthContainer = document.getElementById('earthViz');

earthToggle.addEventListener('click', () => {
  earthVisible = !earthVisible;
  earthContainer.classList.toggle('visible', earthVisible);
  earthToggle.textContent = earthVisible ? 'üåç ‚úì' : 'üåç';
  
  if (earthVisible) {
    initEarthInteraction();
  }
});

function initEarthInteraction() {
  const earth = document.getElementById('earthSphere');
  earth.addEventListener('click', () => {
    // Create orbital animation
    earth.style.animationPlayState = earth.style.animationPlayState === 'paused' ? 'running' : 'paused';
    
    // Add click effect
    const ripple = document.createElement('div');
    ripple.style.position = 'absolute';
    ripple.style.width = '100px';
    ripple.style.height = '100px';
    ripple.style.borderRadius = '50%';
    ripple.style.background = 'radial-gradient(circle, rgba(101,255,163,0.5), transparent)';
    ripple.style.top = '50%';
    ripple.style.left = '50%';
    ripple.style.transform = 'translate(-50%, -50%) scale(0)';
    ripple.style.pointerEvents = 'none';
    
    earthContainer.appendChild(ripple);
    
    ripple.animate([
      { transform: 'translate(-50%, -50%) scale(0)', opacity: 1 },
      { transform: 'translate(-50%, -50%) scale(3)', opacity: 0 }
    ], {
      duration: 1000,
      easing: 'cubic-bezier(0.4, 0, 0.2, 1)'
    }).onfinish = () => ripple.remove();
  });
}

// Pledge system with enhanced feedback
let pledgeCount = Number(localStorage.getItem('pledge10')) || 0;
const pledgeCountDisplay = document.getElementById('pledgeCount');
const livePledgeDisplay = document.getElementById('livePledgeCount');

function updatePledgeDisplay() {
  const message = pledgeCount > 0 ? `üå± ${pledgeCount * 10} trees pledged!` : '';
  pledgeCountDisplay.textContent = message;
  if (livePledgeDisplay) {
    livePledgeDisplay.textContent = pledgeCount * 10;
  }
}

updatePledgeDisplay();

pledgeBtn?.addEventListener('click', () => {
  pledgeCount++;
  localStorage.setItem('pledge10', String(pledgeCount));
  updatePledgeDisplay();
  
  // Enhanced burst effect
  createPledgeBurst(pledgeBtn);
  
  // Success message
  showNotification('üå± Amazing! 10 more trees pledged for our planet!');
});

function createPledgeBurst(element) {
  const rect = element.getBoundingClientRect();
  const centerX = rect.left + rect.width / 2;
  const centerY = rect.top + rect.height / 2;
  
  for (let i = 0; i < 20; i++) {
    const particle = document.createElement('div');
    particle.style.position = 'fixed';
    particle.style.left = centerX + 'px';
    particle.style.top = centerY + 'px';
    particle.style.width = '8px';
    particle.style.height = '8px';
    particle.style.borderRadius = '50%';
    particle.style.background = i % 3 === 0 ? '#65ffa3' : i % 3 === 1 ? '#ffd166' : '#4a9eff';
    particle.style.zIndex = '9999';
    particle.style.pointerEvents = 'none';
    
    document.body.appendChild(particle);
    
    const angle = (i / 20) * Math.PI * 2;
    const distance = 100 + Math.random() * 50;
    const x = Math.cos(angle) * distance;
    const y = Math.sin(angle) * distance;
    
    particle.animate([
      { transform: 'translate(-50%, -50%) scale(1)', opacity: 1 },
      { transform: `translate(${x}px, ${y}px) scale(0)`, opacity: 0 }
    ], {
      duration: 800,
      easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
    }).onfinish = () => particle.remove();
  }
}

// Share functionality
shareBtn?.addEventListener('click', async () => {
  const shareData = {
    title: 'Heat & Hope - Climate Action',
    text: `I just pledged to plant ${pledgeCount * 10} trees! Join the climate action movement.`,
    url: window.location.href
  };
  
  try {
    if (navigator.share) {
      await navigator.share(shareData);
    } else {
      // Fallback - copy to clipboard
      await navigator.clipboard.writeText(`${shareData.text} ${shareData.url}`);
      showNotification('üìã Link copied to clipboard!');
    }
  } catch (err) {
    console.log('Share failed:', err);
    showNotification('üîó Share feature unavailable');
  }
});

// Print functionality
printBtn?.addEventListener('click', () => {
  const printContent = `
    <html>
    <head><title>Tree Planting Field Plan</title>
    <style>
      body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; }
      h1 { color: #2d5aa0; border-bottom: 2px solid #65ffa3; padding-bottom: 10px; }
      .section { margin: 20px 0; padding: 15px; border-left: 4px solid #65ffa3; }
      .checklist { list-style: none; padding: 0; }
      .checklist li { margin: 8px 0; padding-left: 25px; position: relative; }
      .checklist li:before { content: '‚òê'; position: absolute; left: 0; }
      @media print { body { margin: 20px; } }
    </style>
    </head>
    <body>
      <h1>üå≥ Tree Planting Field Plan</h1>
      <div class="section">
        <h2>Planning Phase</h2>
        <ul class="checklist">
          <li>Site assessment and soil testing</li>
          <li>Native species selection based on climate zone</li>
          <li>Water source identification and irrigation planning</li>
          <li>Permit acquisition and community notification</li>
        </ul>
      </div>
      <div class="section">
        <h2>Planting Phase</h2>
        <ul class="checklist">
          <li>Optimal timing: early spring or fall</li>
          <li>Proper hole digging (2x root ball width)</li>
          <li>Mulching for moisture retention</li>
          <li>Initial watering and staking if needed</li>
        </ul>
      </div>
      <div class="section">
        <h2>Maintenance Phase</h2>
        <ul class="checklist">
          <li>Weekly watering for first year</li>
          <li>Pruning and shaping as needed</li>
          <li>Pest monitoring and organic treatment</li>
          <li>Growth tracking and documentation</li>
        </ul>
      </div>
      <div class="section">
        <h2>Impact Tracking</h2>
        <p><strong>Expected Benefits per Tree:</strong></p>
        <ul>
          <li>48 lbs CO‚ÇÇ sequestered annually</li>
          <li>2-8¬∞C local cooling effect</li>
          <li>Stormwater management: 100+ gallons/year</li>
          <li>Wildlife habitat creation</li>
          <li>Air quality improvement</li>
        </ul>
      </div>
      <div class="section">
        <h2>Resources</h2>
        <p>For species-specific guidance: consult local forestry extension office</p>
        <p>Generated from Heat & Hope Climate Action Platform</p>
      </div>
    </body>
    </html>
  `;
  
  const printWindow = window.open('', '_blank');
  printWindow.document.write(printContent);
  printWindow.document.close();
  printWindow.focus();
  setTimeout(() => printWindow.print(), 250);
});

// Notification system
function showNotification(message) {
  const notification = document.createElement('div');
  notification.textContent = message;
  notification.style.cssText = `
    position: fixed;
    top: 20px;
    right: 20px;
    background: linear-gradient(135deg, var(--glass), rgba(255,255,255,0.1));
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    color: var(--fg);
    padding: 16px 24px;
    border-radius: 12px;
    z-index: 10000;
    font-weight: 600;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    animation: slideInRight 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  `;
  
  document.body.appendChild(notification);
  
  setTimeout(() => {
    notification.style.animation = 'slideOutRight 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards';
    setTimeout(() => notification.remove(), 400);
  }, 3000);
}

// Live data simulation (replace with real APIs in production)
function updateLiveData() {
  // Simulate realistic climate data with slight variations
  const baseTemp = 1.15;
  const baseCO2 = 421;
  const baseFires = 1200;
  
  const tempAnomaly = (baseTemp + (Math.random() - 0.5) * 0.3).toFixed(2);
  const co2Level = Math.floor(baseCO2 + (Math.random() - 0.5) * 5);
  const fireCount = Math.floor(baseFires + (Math.random() - 0.5) * 300);
  
  // Update live data displays
  document.getElementById('currentTemp').textContent = `+${tempAnomaly}¬∞C`;
  document.getElementById('co2Level').textContent = `${co2Level}`;
  document.getElementById('activeFiresCount').textContent = fireCount.toLocaleString();
}

function updateLiveStats() {
  const tempAnomaly = (1.15 + (Math.random() - 0.5) * 0.3).toFixed(1);
  const co2Level = Math.floor(421 + (Math.random() - 0.5) * 5);
  const fireCount = Math.floor(1200 + (Math.random() - 0.5) * 300);
  
  document.getElementById('liveTemp').textContent = `+${tempAnomaly}¬∞C`;
  document.getElementById('liveCO2').textContent = `${co2Level} ppm`;
  document.getElementById('liveFireCount').textContent = fireCount.toLocaleString();
}

// Animated chart for live data
function drawLiveChart() {
  const chartContainer = document.getElementById('liveChart');
  const canvas = chartContainer.querySelector('canvas');
  if (!canvas) return;
  
  const ctx = canvas.getContext('2d');
  const width = canvas.width;
  const height = canvas.height;
  
  // Generate sample temperature data
  const dataPoints = 50;
  const data = [];
  for (let i = 0; i < dataPoints; i++) {
    const trend = i * 0.02; // Upward trend
    const noise = (Math.random() - 0.5) * 0.5;
    data.push(1.0 + trend + noise);
  }
  
  // Draw the chart
  ctx.clearRect(0, 0, width, height);
  
  // Grid lines
  ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
  ctx.lineWidth = 1;
  for (let i = 0; i < 5; i++) {
    const y = (height / 4) * i;
    ctx.beginPath();
    ctx.moveTo(0, y);
    ctx.lineTo(width, y);
    ctx.stroke();
  }
  
  // Temperature line
  ctx.strokeStyle = '#ff6b6b';
  ctx.lineWidth = 3;
  ctx.beginPath();
  
  data.forEach((value, index) => {
    const x = (width / (dataPoints - 1)) * index;
    const y = height - ((value - 0.5) / 2) * height;
    
    if (index === 0) {
      ctx.moveTo(x, y);
    } else {
      ctx.lineTo(x, y);
    }
  });
  
  ctx.stroke();
  
  // Add gradient fill
  ctx.globalCompositeOperation = 'destination-over';
  const gradient = ctx.createLinearGradient(0, 0, 0, height);
  gradient.addColorStop(0, 'rgba(255, 107, 107, 0.3)');
  gradient.addColorStop(1, 'rgba(255, 107, 107, 0.0)');
  ctx.fillStyle = gradient;
  ctx.fill();
}

// Intersection Observer for scroll animations
const observerOptions = {
  threshold: 0.2,
  rootMargin: '-50px'
};

const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('in-view');
    }
  });
}, observerOptions);

// Observe timeline elements
document.querySelectorAll('.timeline-content, .scroll-animate').forEach(el => {
  observer.observe(el);
});

// Enhanced ticker with dynamic content
function updateTicker() {
  const messages = [
    "üå°Ô∏è Global temperatures +1.2¬∞C above pre-industrial baseline",
    "üî• Wildfire seasons now 75 days longer than 1970s average",
    "üí® Atmospheric CO‚ÇÇ levels highest in 3+ million years",
    "üåä Sea level rise accelerating: 3.4mm/year current rate",
    "üå≥ Forest restoration can sequester 1.6 gigatons CO‚ÇÇ/year",
    "üå± Urban trees reduce local temps by 2-8¬∞C in summer",
    "ü¶ã Pollinator-friendly plants increase biodiversity 300%",
    "üíß Tree cover increases groundwater recharge by 60%"
  ];
  
  const ticker = document.getElementById('tickerInner');
  if (ticker) {
    const randomMessage = messages[Math.floor(Math.random() * messages.length)];
    // Occasionally inject new content
    if (Math.random() < 0.1) {
      const spans = ticker.querySelectorAll('div');
      if (spans.length > 0) {
        spans[0].innerHTML += ` ‚Ä¢ ${randomMessage}`;
      }
    }
  }
}

// Update ticker every 10 seconds
setInterval(updateTicker, 10000);

// Keyboard accessibility
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') {
    // Close any open panels
    if (statsVisible) {
      statsToggle.click();
    }
  }
});

// Performance optimization: Reduce animations on low-end devices
if (navigator.hardwareConcurrency && navigator.hardwareConcurrency <= 2) {
  document.documentElement.style.setProperty('--animation-duration', '0.1s');
}

// Initialize everything
document.addEventListener('DOMContentLoaded', () => {
  // Stagger animations for visual impact
  const cards = document.querySelectorAll('.glass-card');
  cards.forEach((card, index) => {
    card.style.animationDelay = `${index * 0.1}s`;
    card.classList.add('scroll-animate');
  });
  
  // Initialize chart bars animation
  const chartBars = document.querySelectorAll('.chart-bar');
  setTimeout(() => {
    chartBars.forEach((bar, index) => {
      setTimeout(() => {
        bar.style.height = bar.dataset.height + 'px';
      }, index * 200);
    });
  }, 1000);
  
  // Add loading complete class
  setTimeout(() => {
    document.body.classList.add('loaded');
  }, 500);
});

// CSS keyframes for animations (injected dynamically)
const styleSheet = document.createElement('style');
styleSheet.textContent = `
  @keyframes slideInRight {
    from { transform: translateX(100px); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }
  
  @keyframes slideOutRight {
    from { transform: translateX(0); opacity: 1; }
    to { transform: translateX(100px); opacity: 0; }
  }
  
  .chart-bar {
    height: 0;
    transition: height 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  body.loaded .scroll-animate {
    animation-play-state: running;
  }
`;
document.head.appendChild(styleSheet);

console.log('üåç Heat & Hope Climate Experience loaded successfully!');
console.log('üå± Features: Interactive data viz, 3D animations, live climate data, tree pledge system');
console.log('üéØ Mission: Accelerate climate action through immersive storytelling');
</script>
</body>
</html>